"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[9],{7009:function(n,e,t){t.r(e),t.d(e,{default:function(){return cn}});var r,o,i,l,a,c,u,d,s,f,p,x,h,g,v,b,Z,m,j=t(9439),w=t(2791),k=t(763),y=t(4390),C=t(5824),S=t(7762),z=t(1810),T=function(n){return Number(n.split(".").join(""))},F=t(1965),V=t(2675),E=t(6518),I=t(4164),R=t(168),D=t(9202),M=t(5172),O=t(5678),P=D.Z.div(r||(r=(0,R.Z)(["\n  display: flex;\n  width: ",";\n  gap: 8px;\n  flex-direction: column;\n  justify-content: space-between;\n"])),(function(n){return function(n){return"brand"===n?"224px":"125px"}(n.id)})),N=D.Z.p(o||(o=(0,R.Z)(["\n  font-weight: 500;\n  font-size: 14px;\n  line-height: 1.29;\n  color: var(--secondary-text-color);\n"]))),$=D.Z.div(i||(i=(0,R.Z)(["\n  position: relative;\n"]))),_=D.Z.div(l||(l=(0,R.Z)(["\n  display: flex;\n  justify-content: space-between;\n  padding: 14px 18px;\n  border-radius: 14px;\n  background-color: var(--select-color);\n  cursor: pointer;\n\n  :focus {\n    outline: 2px solid var(--input-border-color);\n  }\n"]))),B=D.Z.span(a||(a=(0,R.Z)(["\n  font-weight: 500;\n  font-size: 18px;\n  line-height: 1.1;\n"]))),K=(0,D.Z)(M.Z)(c||(c=(0,R.Z)(["\n  width: 20px;\n  height: 20px;\n"]))),H=(0,D.Z)(O.Z)(u||(u=(0,R.Z)(["\n  width: 20px;\n  height: 20px;\n"]))),L=D.Z.div(d||(d=(0,R.Z)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  display: ",";\n"])),(function(n){return"true"===n.isToggleOn?"block":"none"})),U=D.Z.div(s||(s=(0,R.Z)(["\n  position: absolute;\n  border: 1px solid var(--select-border-color);\n  border-radius: 14px;\n  left: ","px;\n  width: ","px;\n  top: ","px;\n  background-color: var(--background-color);\n  box-shadow: 0 4px 36px var(--select-shadow-color);\n  overflow: hidden;\n"])),(function(n){return null===n||void 0===n?void 0:n.left}),(function(n){return null===n||void 0===n?void 0:n.width}),(function(n){return null===n||void 0===n?void 0:n.top})),W=D.Z.div(f||(f=(0,R.Z)(["\n  cursor: pointer;\n  padding: 8px 14px;\n  color: ",";\n  font-weight: 500;\n  font-size: 16px;\n  line-height: 1.25;\n\n  :hover {\n    color: var(--button-text-color);\n    background-color: var(--accent-color);\n  }\n"])),(function(n){return n.item===n.currentValue?"var(--primary-text-color)":"var(--select-text-color)"})),q=t(184),A=document.getElementById("select-body-root"),G=function(n){var e=n.title,t=n.id,r=n.items,o=n.onValueChange,i=n.currentValue,l=(0,w.useState)(!1),a=(0,j.Z)(l,2),c=a[0],u=a[1],d=(0,w.useState)(null),s=(0,j.Z)(d,2),f=s[0],p=s[1],x=(0,w.useState)(null),h=(0,j.Z)(x,2),g=h[0],v=h[1],b=(0,w.useState)(null),Z=(0,j.Z)(b,2),m=Z[0],k=Z[1],y=(0,w.useState)(null),C=(0,j.Z)(y,2),S=C[0],z=C[1],T=g+S+4;return(0,q.jsxs)(P,{id:t,children:[(0,q.jsx)(N,{children:e}),(0,q.jsxs)($,{onClick:function(n){p(n.currentTarget.offsetLeft),v(n.currentTarget.offsetTop),k(n.currentTarget.offsetWidth),z(n.currentTarget.offsetHeight)},children:[(0,q.jsxs)(_,{onClick:function(){u((function(n){return!n}))},tabIndex:1,children:[(0,q.jsx)(B,{children:i}),c?(0,q.jsx)(H,{}):(0,q.jsx)(K,{})]}),(0,I.createPortal)((0,q.jsx)(L,{isToggleOn:c.toString(),onClick:function(n){n.currentTarget===n.target&&u(!1)},children:(0,q.jsx)(U,{left:f,top:T,width:m,children:null===r||void 0===r?void 0:r.map((function(n){return(0,q.jsx)(W,{tabIndex:1,currentValue:i,item:n,onClick:function(n){var e=n.target.textContent;o(t,e),u(!1)},children:n},n)}))})}),A)]})]})},J=D.Z.div(p||(p=(0,R.Z)(["\n  position: relative;\n"]))),Q=D.Z.label(x||(x=(0,R.Z)(["\n  position: absolute;\n  top: 14px;\n  left: 14px;\n  font-weight: 500;\n  font-size: 18px;\n  line-height: 1.1;\n"]))),X=D.Z.input(h||(h=(0,R.Z)(["\n  box-sizing: border-box;\n  width: 160px;\n  height: 48px;\n  padding: 14px 18px;\n  padding-left: 60px;\n  border: none;\n  border-right: 1px solid ",";\n  border-radius: ",";\n  background-color: var(--select-color);\n  color: var(--primary-text-color);\n  outline-color: var(--input-border-color);\n  font-family: 'Manrope';\n  font-weight: 500;\n  font-size: 18px;\n  line-height: 1.1;\n"])),(function(n){return function(n){return"min"===n?"var(--input-border-color)":"none"}(n.id)}),(function(n){return function(n){return"min"===n?"14px 0 0 14px":"0 14px 14px 0"}(n.id)})),Y=function(n){var e=n.id,t=n.label,r=n.currentValue,o=n.onFilterChange;return(0,q.jsxs)(J,{children:[(0,q.jsx)(Q,{htmlFor:e,children:t}),(0,q.jsx)(X,{type:"number",min:0,id:e,value:r,onChange:function(n){var e=n.target,t=e.id,r=e.value;o(t,r)}})]})},nn=t(3524),en=D.Z.div(g||(g=(0,R.Z)(["\n  padding-top: 100px;\n  display: flex;\n  gap: 18px;\n  justify-content: space-around;\n  width: 859px;\n  height: 74px;\n  margin-left: auto;\n  margin-right: auto;\n"]))),tn=D.Z.div(v||(v=(0,R.Z)(["\n  display: flex;\n  gap: 8px;\n  flex-direction: column;\n  justify-content: space-between;\n"]))),rn=D.Z.label(b||(b=(0,R.Z)(["\n  font-weight: 500;\n  font-size: 14px;\n  line-height: 1.29;\n  color: var(--secondary-text-color);\n"]))),on=D.Z.div(Z||(Z=(0,R.Z)(["\n  display: flex;\n"]))),ln=D.Z.button(m||(m=(0,R.Z)(["\n  min-width: 136px;\n  height: 48px;\n  padding: 14px 44px;\n  align-self: end;\n  border: none;\n  border-radius: 12px;\n  text-align: center;\n  color: var(--button-text-color);\n  background-color: var(--accent-color);\n  font-family: 'Manrope';\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 1.43;\n  transition: background-color var(--tra);\n\n  &:hover {\n    background-color: var(--button-active-color);\n  }\n"]))),an=function(n){var e=n.brands,t=n.onFilterChange,r=n.onFilterReset,o=n.selectedBrand,i=n.selectedPrice,l=n.minMileage,a=n.maxMileage;return(0,q.jsxs)(en,{children:[(0,q.jsx)(G,{title:"Car brand",id:"brand",items:e,onValueChange:t,currentValue:o}),(0,q.jsx)(G,{title:"Price / 1 hour",id:"price",items:nn.Hj,onValueChange:t,currentValue:i}),(0,q.jsxs)(tn,{children:[(0,q.jsx)(rn,{children:"Car mileage / km"}),(0,q.jsxs)(on,{children:[(0,q.jsx)(Y,{id:"min",label:"From",currentValue:l,onFilterChange:t}),(0,q.jsx)(Y,{id:"max",label:"To",currentValue:a,onFilterChange:t})]})]}),(0,q.jsx)(ln,{type:"button",onClick:r,children:"Reset"})]})};function cn(){var n=(0,w.useState)([]),e=(0,j.Z)(n,2),t=e[0],r=e[1],o=(0,w.useState)([]),i=(0,j.Z)(o,2),l=i[0],a=i[1],c=(0,w.useState)([]),u=(0,j.Z)(c,2),d=u[0],s=u[1],f=(0,w.useState)("Enter the text"),p=(0,j.Z)(f,2),x=p[0],h=p[1],g=(0,w.useState)("To $"),v=(0,j.Z)(g,2),b=v[0],Z=v[1],m=(0,w.useState)(""),I=(0,j.Z)(m,2),R=I[0],D=I[1],M=(0,w.useState)(""),O=(0,j.Z)(M,2),P=O[0],N=O[1],$=(0,w.useState)(null),_=(0,j.Z)($,2),B=_[0],K=_[1],H=(0,w.useState)("pending"),L=(0,j.Z)(H,2),U=L[0],W=L[1],A=(0,w.useState)([]),G=(0,j.Z)(A,2),J=G[0],Q=G[1],X=(0,w.useState)(""),Y=(0,j.Z)(X,2),en=Y[0],tn=Y[1],rn=(0,w.useState)(""),on=(0,j.Z)(rn,2),ln=on[0],cn=on[1],un=(0,w.useRef)((0,k.debounce)((function(n){return tn(n)}),300)).current,dn=(0,w.useRef)((0,k.debounce)((function(n){return cn(n)}),300)).current;un(R),dn(P),(0,w.useEffect)((function(){var n;(0,y.o)().then((function(n){r(n),K(null),W("resolved")})).catch((function(n){K(n),W("rejected")})),a(null!==(n=(0,F.zD)(nn.DI))&&void 0!==n?n:[])}),[]),(0,w.useEffect)((function(){s(function(n,e){if(!e||!n||0===n.length||0===e.length)return[];var t,r=[],o=(0,S.Z)(e);try{for(o.s();!(t=o.n()).done;){var i=t.value;n.includes(i.id)&&r.push(i)}}catch(l){o.e(l)}finally{o.f()}return r}(l,t))}),[t,l]),(0,w.useEffect)((function(){var n=(0,F.zD)(nn.Il);n&&h(n);var e=(0,F.zD)(nn.cl);e&&Z(e);var t=(0,F.zD)(nn.Rz);t&&D(t);var r=(0,F.zD)(nn.Kr);r&&N(r)}),[]),(0,w.useEffect)((function(){0===d.length&&Q([]);var n=d.filter((function(n){var e=n.make,t=n.rentalPrice,r=n.mileage,o=function(n){return Number(n.split("").slice(1,n.length).join(""))}(t),i=T(en),l=T(ln);return("Enter the text"===x||e===x)&&(!("To $"!==b&&o>b)&&(!(0!==i&&i>r)&&!(0!==l&&l<r)))}));Q(n)}),[d,x,b,en,ln]),(0,w.useEffect)((function(){return function(){un.cancel(),dn.cancel()}}),[dn,un]);return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(an,{brands:(0,z.T)(d),onFilterChange:function(n,e){switch(n){case"brand":h(e),(0,F.a1)(nn.Il,e);break;case"price":Z(Number(e)),(0,F.a1)(nn.cl,Number(e));break;case"min":D(e),(0,F.a1)(nn.Rz,e);break;case"max":N(e),(0,F.a1)(nn.Kr,e);break;default:return}},onFilterReset:function(){h("Enter the text"),Z("To $"),D(""),N(""),(0,F.Od)(nn.Il),(0,F.Od)(nn.cl),(0,F.Od)(nn.Rz),(0,F.Od)(nn.Kr)},selectedBrand:x,selectedPrice:b,minMileage:R,maxMileage:P}),"pending"===U&&(0,q.jsx)(E.$,{}),"rejected"===U&&(0,q.jsx)("h3",{children:null===B||void 0===B?void 0:B.message}),"resolved"===U&&J.length>0&&(0,q.jsx)(C.h,{cars:J,toggleFavorite:function(n){var e=l.filter((function(e){return e!==n}));a(e),(0,F.a1)(nn.DI,e)}}),(0,q.jsx)(V.Z,{onClick:function(){return console.log("Under development")}})]})}}}]);
//# sourceMappingURL=9.7d698b0b.chunk.js.map