"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[624],{624:function(n,e,t){t.r(e),t.d(e,{default:function(){return k}});var r,o=t(3433),a=t(9439),c=t(2791),i=t(763),u=t(4390),l=t(1810),s=t(7966),d=t(1965),f=function(n,e){var t=(0,c.useState)((function(){var t;return null!==(t=(0,d.zD)(n))&&void 0!==t?t:e})),r=(0,a.Z)(t,2);return[r[0],r[1]]},h=t(5824),p=t(168),v=t(9202).Z.button(r||(r=(0,p.Z)(["\n  display: block;\n  width: 100px;\n  height: 24px;\n  margin-left: auto;\n  margin-right: auto;\n  margin-bottom: 150px;\n  border: none;\n  border-radius: 12px;\n  text-align: center;\n  text-decoration: underline;\n  color: var(--accent-color);\n  background-color: transparent;\n  font-family: 'Manrope';\n  font-weight: 500;\n  font-size: 16px;\n  line-height: 1.5;\n  transition: color var(--tra);\n\n  :hover {\n    color: var(--button-active-color);\n  }\n\n  :focus-visible {\n    text-shadow: 1px 1px 2px var(--accent-color);\n    outline: none;\n  }\n"]))),g=t(184),x=function(n){var e=n.onClick;return(0,g.jsx)(v,{onClick:e,type:"button",children:"Load more"})},b=t(6518),m=t(5580),Z=t(3524);function k(){var n=(0,c.useState)([]),e=(0,a.Z)(n,2),t=e[0],r=e[1],p=(0,c.useState)(1),v=(0,a.Z)(p,2),k=v[0],j=v[1],w=(0,c.useState)(null),C=(0,a.Z)(w,2),S=C[0],D=C[1],E=(0,c.useState)("pending"),M=(0,a.Z)(E,2),F=M[0],I=M[1],L=f(Z.AZ,"Enter the text"),O=(0,a.Z)(L,2),_=O[0],y=O[1],z=f(Z.Lg,"To $"),A=(0,a.Z)(z,2),R=A[0],T=A[1],$=f(Z.ev,""),B=(0,a.Z)($,2),N=B[0],P=B[1],q=f(Z.pn,""),G=(0,a.Z)(q,2),H=G[0],J=G[1],K=f(Z.ev,""),Q=(0,a.Z)(K,2),U=Q[0],V=Q[1],W=f(Z.pn,""),X=(0,a.Z)(W,2),Y=X[0],nn=X[1],en=(0,c.useState)([]),tn=(0,a.Z)(en,2),rn=tn[0],on=tn[1],an=(0,c.useRef)((0,i.debounce)((function(n){return V(n)}),300)).current,cn=(0,c.useRef)((0,i.debounce)((function(n){return nn(n)}),300)).current;(0,c.useEffect)((function(){(0,u.c)(k).then((function(n){r(1===k?n:function(e){return[].concat((0,o.Z)(e),(0,o.Z)(n))}),D(null),I("resolved")})).catch((function(n){D(n),I("rejected")}))}),[k]),(0,c.useEffect)((function(){0===t.length&&on([]);var n={brand:_,price:R,minMileage:U,maxMileage:Y};on((0,s.B)(t,n))}),[t,_,R,U,Y]),(0,c.useEffect)((function(){return function(){an.cancel(),cn.cancel()}}),[an,cn]);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(m.h,{brands:(0,l.T)(t),onFilterChange:function(n,e){switch(n){case"brand":y(e),(0,d.a1)(Z.AZ,e);break;case"price":T(Number(e)),(0,d.a1)(Z.Lg,Number(e));break;case"min":P(e),an(e),(0,d.a1)(Z.ev,e);break;case"max":J(e),cn(e),(0,d.a1)(Z.pn,e);break;default:return}},onFilterReset:function(){y("Enter the text"),T("To $"),P(""),J(""),V(""),nn(""),(0,d.Od)(Z.AZ),(0,d.Od)(Z.Lg),(0,d.Od)(Z.ev),(0,d.Od)(Z.pn)},selectedBrand:_,selectedPrice:R,minMileage:N,maxMileage:H}),"pending"===F&&(0,g.jsx)(b.$,{}),"rejected"===F&&(0,g.jsx)("h3",{children:null===S||void 0===S?void 0:S.message}),"resolved"===F&&(0,g.jsx)(h.h,{cars:rn,toggleFavorite:function(n){var e,t=null!==(e=(0,d.zD)(Z.DI))&&void 0!==e?e:[];if(t.includes(n)){var r=t.findIndex((function(e){return e===n}));-1!==r&&t.splice(r,1),(0,d.a1)(Z.DI,t)}else t.push(n),(0,d.a1)(Z.DI,t)}}),k<4&&(0,g.jsx)(x,{onClick:function(){j((function(n){return n+1}))}})]})}}}]);
//# sourceMappingURL=624.979477b4.chunk.js.map