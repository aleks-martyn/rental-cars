{"version":3,"file":"static/js/496.d5951833.chunk.js","mappings":"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","sources":["js/getUniqueBrands.js","components/DropdownFilter/DropdownFilter.styled.jsx","components/DropdownFilter/DropdownFilter.jsx","pages/CatalogPage/CatalogPage.jsx"],"sourcesContent":["export const getUniqueBrands = cars =>\n  cars\n    .map(car => car.make)\n    .filter((brand, index, array) => array.indexOf(brand) === index);\n","import styled from '@emotion/styled';\n\nexport const StyledSection = styled.section`\n  padding-top: 100px;\n`;\n\nexport const StyledForm = styled.form`\n  display: flex;\n  gap: 18px;\n  justify-content: space-around;\n  width: 859px;\n  height: 74px;\n  margin-left: auto;\n  margin-right: auto;\n`;\n\nexport const Wrap = styled.div`\n  display: flex;\n  gap: 8px;\n  flex-direction: column;\n  justify-content: space-between;\n`;\n\nexport const InputWrap = styled.div`\n  display: flex;\n`;\n\nexport const InputInnerWrap = styled.div`\n  position: relative;\n`;\n\nexport const Subtitle = styled.label`\n  font-weight: 500;\n  font-size: 14px;\n  line-height: 1.29;\n  color: var(--secondary-text-color);\n`;\n\nexport const StyledSelect = styled.select`\n  height: 48px;\n  padding: 14px 18px;\n  border: none;\n  border-radius: 14px;\n  background-color: var(--select-color);\n`;\n\nexport const StyledOption = styled.option`\n  color: var(--select-text-color);\n  font-family: 'Manrope';\n  font-weight: 500;\n  font-size: 16px;\n  line-height: 1.25;\n`;\n\nexport const StyledLabel = styled.label`\n  position: absolute;\n  top: 14px;\n  left: 14px;\n`;\n\nexport const StyledInput = styled.input`\n  box-sizing: border-box;\n  width: 160px;\n  height: 48px;\n  padding: 14px 18px;\n  padding-left: 60px;\n  border: none;\n  border-radius: 14px;\n  background-color: var(--select-color);\n`;\n\nexport const FormBtn = styled.button`\n  min-width: 136px;\n  height: 48px;\n  padding: 14px 44px;\n  align-self: end;\n  border: none;\n  border-radius: 12px;\n  text-align: center;\n  color: var(--button-text-color);\n  background-color: var(--accent-color);\n  font-family: 'Manrope';\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 1.43;\n  transition: background-color var(--tra);\n\n  &:hover {\n    background-color: var(--button-active-color);\n  }\n`;\n","import { prices } from 'constants';\nimport {\n  StyledSection,\n  StyledForm,\n  Wrap,\n  InputWrap,\n  InputInnerWrap,\n  Subtitle,\n  StyledSelect,\n  StyledOption,\n  StyledLabel,\n  StyledInput,\n  FormBtn,\n} from './DropdownFilter.styled';\n\nexport const DropdownFilter = ({ onSubmit, brands }) => {\n  return (\n    <StyledSection>\n      <StyledForm name=\"car-search-form\" onSubmit={onSubmit}>\n        <Wrap>\n          <Subtitle htmlFor=\"car-select\">Car brand</Subtitle>\n\n          <StyledSelect name=\"cars\" id=\"car-select\">\n            <option value=\"\">Enter the text</option>\n            {brands.map(brand => (\n              <StyledOption key={brand} value={brand}>\n                {brand}\n              </StyledOption>\n            ))}\n          </StyledSelect>\n        </Wrap>\n\n        <Wrap>\n          <Subtitle htmlFor=\"price-select\">Price / 1 hour</Subtitle>\n\n          <StyledSelect name=\"prices\" id=\"price-select\">\n            <option value=\"\">To $</option>\n            {prices.map(price => (\n              <StyledOption key={price} value={price}>\n                {price}\n              </StyledOption>\n            ))}\n          </StyledSelect>\n        </Wrap>\n\n        <Wrap>\n          <Subtitle>Car mileage / km</Subtitle>\n\n          <InputWrap>\n            <InputInnerWrap>\n              <StyledLabel htmlFor=\"from\">From</StyledLabel>\n              <StyledInput type=\"number\" name=\"from\" id=\"from\" />\n            </InputInnerWrap>\n\n            <InputInnerWrap>\n              <StyledLabel htmlFor=\"to\">To</StyledLabel>\n              <StyledInput type=\"number\" name=\"to\" id=\"to\" />\n            </InputInnerWrap>\n          </InputWrap>\n        </Wrap>\n\n        <FormBtn type=\"submit\">Search</FormBtn>\n\n        <FormBtn type=\"reset\">Reset</FormBtn>\n      </StyledForm>\n    </StyledSection>\n  );\n};\n","import { useEffect, useState } from 'react';\nimport { fetchCars } from 'services/api';\nimport { getUniqueBrands } from 'js/getUniqueBrands';\nimport { load, save } from 'js/localStorageFunctions';\nimport { CarList } from 'components/CarList';\nimport { LoadmoreBtn } from 'components/LoadmoreBtn';\nimport { Spinner } from 'components/Loader';\nimport { DropdownFilter } from 'components/DropdownFilter';\nimport { LOCALSTORAGE_KEY } from 'constants';\n\nexport default function CatalogPage() {\n  const [cars, setCars] = useState([]);\n  const [page, setPage] = useState(1);\n  const [error, setError] = useState(null);\n  const [status, setStatus] = useState('pending');\n\n  useEffect(() => {\n    fetchCars(page)\n      .then(res => {\n        page === 1 ? setCars(res) : setCars(prev => [...prev, ...res]);\n        setError(null);\n        setStatus('resolved');\n      })\n      .catch(error => {\n        setError(error);\n        setStatus('rejected');\n      });\n  }, [page]);\n\n  const toggleFavorite = carId => {\n    const storedFavorites = load(LOCALSTORAGE_KEY);\n\n    const isFavorite = storedFavorites?.find(item => item.id === carId);\n\n    if (isFavorite) {\n      const index = storedFavorites?.findIndex(item => item.id === carId);\n\n      if (index !== -1) storedFavorites?.splice(index, 1);\n      save(LOCALSTORAGE_KEY, storedFavorites);\n    } else {\n      storedFavorites?.push({ id: carId });\n      save(LOCALSTORAGE_KEY, storedFavorites);\n    }\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    const form = event.currentTarget;\n    const brand = form.cars.value.trim();\n    if (brand) console.log(brand);\n    const price = form.prices.value;\n    if (price) console.log(price);\n    const from = form.from.value;\n    if (from) console.log(from);\n    const to = form.to.value;\n    if (to) console.log(to);\n    form.reset();\n  };\n\n  return (\n    <>\n      <DropdownFilter onSubmit={handleSubmit} brands={getUniqueBrands(cars)} />\n      {status === 'pending' && <Spinner />}\n      {status === 'rejected' && <h3>{error.message}</h3>}\n      {status === 'resolved' && (\n        <CarList cars={cars} toggleFavorite={toggleFavorite} />\n      )}\n      {page < 4 && (\n        <LoadmoreBtn\n          onClick={() => {\n            setPage(prev => prev + 1);\n          }}\n        />\n      )}\n    </>\n  );\n}\n"],"names":["getUniqueBrands","cars","map","car","make","filter","brand","index","array","indexOf","StyledSection","styled","StyledForm","Wrap","InputWrap","InputInnerWrap","Subtitle","StyledSelect","StyledOption","StyledLabel","StyledInput","FormBtn","DropdownFilter","onSubmit","brands","name","htmlFor","id","value","prices","price","type","CatalogPage","useState","setCars","page","setPage","error","setError","status","setStatus","useEffect","fetchCars","then","res","prev","catch","event","preventDefault","form","currentTarget","trim","console","log","from","to","reset","message","CarList","toggleFavorite","carId","storedFavorites","load","LOCALSTORAGE_KEY","find","item","findIndex","splice","save","push","LoadmoreBtn","onClick"],"sourceRoot":""}