{"version":3,"file":"static/js/496.240a05b0.chunk.js","mappings":"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","sources":["js/getUniqueBrands.js","components/DropdownFilter/DropdownFilter.styled.jsx","components/DropdownFilter/DropdownFilter.jsx","pages/CatalogPage/CatalogPage.jsx"],"sourcesContent":["export const getUniqueBrands = cars =>\n  cars\n    .map(car => car.make)\n    .filter((brand, index, array) => array.indexOf(brand) === index);\n","import styled from '@emotion/styled';\n\nexport const StyledSection = styled.section`\n  padding-top: 100px;\n`;\n\nexport const StyledForm = styled.form`\n  display: flex;\n  gap: 18px;\n  justify-content: space-around;\n  width: 859px;\n  height: 74px;\n  margin-left: auto;\n  margin-right: auto;\n`;\n\nexport const Wrap = styled.div`\n  display: flex;\n  gap: 8px;\n  flex-direction: column;\n  justify-content: space-between;\n`;\n\nexport const InputWrap = styled.div`\n  display: flex;\n`;\n\nexport const InputInnerWrap = styled.div`\n  position: relative;\n`;\n\nexport const Subtitle = styled.label`\n  font-weight: 500;\n  font-size: 14px;\n  line-height: 1.29;\n  color: var(--secondary-text-color);\n`;\n\nexport const StyledSelect = styled.select`\n  height: 48px;\n  padding: 14px 18px;\n  border: none;\n  border-radius: 14px;\n  background-color: var(--select-color);\n`;\n\nexport const StyledOption = styled.option`\n  color: var(--select-text-color);\n  font-family: 'Manrope';\n  font-weight: 500;\n  font-size: 16px;\n  line-height: 1.25;\n`;\n\nexport const StyledLabel = styled.label`\n  position: absolute;\n  top: 14px;\n  left: 14px;\n`;\n\nconst borderRadius = name =>\n  name === 'from' ? '14px 0 0 14px' : '0 14px 14px 0';\n\nconst borderRightColor = name =>\n  name === 'from' ? 'var(--input-border-color)' : 'none';\n\nexport const StyledInput = styled.input`\n  box-sizing: border-box;\n  width: 160px;\n  height: 48px;\n  padding: 14px 18px;\n  padding-left: 60px;\n  border: none;\n  border-right: 1px solid ${({ name }) => borderRightColor(name)};\n  border-radius: ${({ name }) => borderRadius(name)};\n  background-color: var(--select-color);\n`;\n\nexport const FormBtn = styled.button`\n  min-width: 136px;\n  height: 48px;\n  padding: 14px 44px;\n  align-self: end;\n  border: none;\n  border-radius: 12px;\n  text-align: center;\n  color: var(--button-text-color);\n  background-color: var(--accent-color);\n  font-family: 'Manrope';\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 1.43;\n  transition: background-color var(--tra);\n\n  &:hover {\n    background-color: var(--button-active-color);\n  }\n`;\n","import { prices } from 'constants';\nimport {\n  StyledSection,\n  StyledForm,\n  Wrap,\n  InputWrap,\n  InputInnerWrap,\n  Subtitle,\n  StyledSelect,\n  StyledOption,\n  StyledLabel,\n  StyledInput,\n  FormBtn,\n} from './DropdownFilter.styled';\n\nexport const DropdownFilter = ({ onSubmit, brands }) => {\n  return (\n    <StyledSection>\n      <StyledForm name=\"car-search-form\" onSubmit={onSubmit}>\n        <Wrap>\n          <Subtitle htmlFor=\"car-select\">Car brand</Subtitle>\n\n          <StyledSelect name=\"cars\" id=\"car-select\">\n            <option value=\"\">Enter the text</option>\n            {brands.map(brand => (\n              <StyledOption key={brand} value={brand}>\n                {brand}\n              </StyledOption>\n            ))}\n          </StyledSelect>\n        </Wrap>\n\n        <Wrap>\n          <Subtitle htmlFor=\"price-select\">Price / 1 hour</Subtitle>\n\n          <StyledSelect name=\"prices\" id=\"price-select\">\n            <option value=\"\">To $</option>\n            {prices.map(price => (\n              <StyledOption key={price} value={price}>\n                {price}\n              </StyledOption>\n            ))}\n          </StyledSelect>\n        </Wrap>\n\n        <Wrap>\n          <Subtitle>Car mileage / km</Subtitle>\n\n          <InputWrap>\n            <InputInnerWrap>\n              <StyledLabel htmlFor=\"from\">From</StyledLabel>\n              <StyledInput type=\"number\" min={0} name=\"from\" id=\"from\" />\n            </InputInnerWrap>\n\n            <InputInnerWrap>\n              <StyledLabel htmlFor=\"to\">To</StyledLabel>\n              <StyledInput type=\"number\" min={0} name=\"to\" id=\"to\" />\n            </InputInnerWrap>\n          </InputWrap>\n        </Wrap>\n\n        <FormBtn type=\"submit\">Search</FormBtn>\n\n        <FormBtn type=\"reset\">Reset</FormBtn>\n      </StyledForm>\n    </StyledSection>\n  );\n};\n","import { useEffect, useState } from 'react';\nimport { fetchCars } from 'services/api';\nimport { getUniqueBrands } from 'js/getUniqueBrands';\nimport { load, save } from 'js/localStorageFunctions';\nimport { CarList } from 'components/CarList';\nimport { LoadmoreBtn } from 'components/LoadmoreBtn';\nimport { Spinner } from 'components/Loader';\nimport { DropdownFilter } from 'components/DropdownFilter';\nimport { LOCALSTORAGE_KEY } from 'constants';\n\nexport default function CatalogPage() {\n  const [cars, setCars] = useState([]);\n  const [page, setPage] = useState(1);\n  const [error, setError] = useState(null);\n  const [status, setStatus] = useState('pending');\n\n  useEffect(() => {\n    fetchCars(page)\n      .then(res => {\n        page === 1 ? setCars(res) : setCars(prev => [...prev, ...res]);\n        setError(null);\n        setStatus('resolved');\n      })\n      .catch(error => {\n        setError(error);\n        setStatus('rejected');\n      });\n  }, [page]);\n\n  const toggleFavorite = id => {\n    const storedFavorites = load(LOCALSTORAGE_KEY);\n\n    const isFavorite = storedFavorites?.find(carId => carId === id);\n\n    if (isFavorite) {\n      const index = storedFavorites?.findIndex(carId => carId === id);\n\n      if (index !== -1) storedFavorites?.splice(index, 1);\n      save(LOCALSTORAGE_KEY, storedFavorites);\n    } else {\n      storedFavorites?.push(id);\n      save(LOCALSTORAGE_KEY, storedFavorites);\n    }\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    const form = event.currentTarget;\n    const brand = form.cars.value.trim();\n    if (brand) console.log(brand);\n    const price = form.prices.value;\n    if (price) console.log(price);\n    const from = form.from.value;\n    if (from) console.log(from);\n    const to = form.to.value;\n    if (to) console.log(to);\n    form.reset();\n  };\n\n  return (\n    <>\n      <DropdownFilter onSubmit={handleSubmit} brands={getUniqueBrands(cars)} />\n      {status === 'pending' && <Spinner />}\n      {status === 'rejected' && <h3>{error.message}</h3>}\n      {status === 'resolved' && (\n        <CarList cars={cars} toggleFavorite={toggleFavorite} />\n      )}\n      {page < 4 && (\n        <LoadmoreBtn\n          onClick={() => {\n            setPage(prev => prev + 1);\n          }}\n        />\n      )}\n    </>\n  );\n}\n"],"names":["getUniqueBrands","cars","map","car","make","filter","brand","index","array","indexOf","StyledSection","styled","StyledForm","Wrap","InputWrap","InputInnerWrap","Subtitle","StyledSelect","StyledOption","StyledLabel","StyledInput","name","borderRightColor","borderRadius","FormBtn","DropdownFilter","onSubmit","brands","htmlFor","id","value","prices","price","type","min","CatalogPage","useState","setCars","page","setPage","error","setError","status","setStatus","useEffect","fetchCars","then","res","prev","catch","event","preventDefault","form","currentTarget","trim","console","log","from","to","reset","message","CarList","toggleFavorite","storedFavorites","load","LOCALSTORAGE_KEY","find","carId","findIndex","splice","save","push","LoadmoreBtn","onClick"],"sourceRoot":""}