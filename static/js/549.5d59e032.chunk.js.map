{"version":3,"file":"static/js/549.5d59e032.chunk.js","mappings":"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","sources":["components/DropdownFilter/DropdownFilter.styled.jsx","components/DropdownFilter/DropdownFilter.jsx","pages/CatalogPage/CatalogPage.jsx"],"sourcesContent":["import styled from '@emotion/styled';\n\nexport const StyledSection = styled.section`\n  padding-top: 100px;\n`;\n\nexport const StyledForm = styled.form`\n  display: flex;\n  gap: 18px;\n  justify-content: space-around;\n  width: 859px;\n  height: 74px;\n  margin-left: auto;\n  margin-right: auto;\n`;\n\nexport const Wrap = styled.div`\n  display: flex;\n  gap: 8px;\n  flex-direction: column;\n  justify-content: space-between;\n`;\n\nexport const InputWrap = styled.div`\n  display: flex;\n`;\n\nexport const InputInnerWrap = styled.div`\n  position: relative;\n`;\n\nexport const Subtitle = styled.label`\n  font-weight: 500;\n  font-size: 14px;\n  line-height: 1.29;\n  color: var(--secondary-text-color);\n`;\n\nexport const StyledSelect = styled.select`\n  height: 48px;\n  padding: 14px 18px;\n  border: none;\n  border-radius: 14px;\n  background-color: var(--select-color);\n`;\n\nexport const StyledOption = styled.option`\n  color: var(--select-text-color);\n  font-family: 'Manrope';\n  font-weight: 500;\n  font-size: 16px;\n  line-height: 1.25;\n`;\n\nexport const StyledLabel = styled.label`\n  position: absolute;\n  top: 14px;\n  left: 14px;\n`;\n\nexport const StyledInput = styled.input`\n  box-sizing: border-box;\n  width: 160px;\n  height: 48px;\n  padding: 14px 18px;\n  padding-left: 60px;\n  border: none;\n  border-radius: 14px;\n  background-color: var(--select-color);\n`;\n\nexport const FormBtn = styled.button`\n  min-width: 136px;\n  height: 48px;\n  padding: 14px 44px;\n  align-self: end;\n  border: none;\n  border-radius: 12px;\n  text-align: center;\n  color: var(--button-text-color);\n  background-color: var(--accent-color);\n  font-family: 'Manrope';\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 1.43;\n  transition: background-color var(--tra);\n\n  &:hover {\n    background-color: var(--button-active-color);\n  }\n`;\n","import {\n  StyledSection,\n  StyledForm,\n  Wrap,\n  InputWrap,\n  InputInnerWrap,\n  Subtitle,\n  StyledSelect,\n  StyledOption,\n  StyledLabel,\n  StyledInput,\n  FormBtn,\n} from \"./DropdownFilter.styled\";\n\nexport const DropdownFilter = ({ onSubmit, brands, prices }) => {\n\n  return (\n    <StyledSection>\n      <StyledForm name=\"car-search-form\" onSubmit={onSubmit}>\n        <Wrap>\n          <Subtitle htmlFor=\"car-select\">Car brand</Subtitle>\n\n          <StyledSelect name=\"cars\" id=\"car-select\">\n            <option value=\"\">Enter the text</option>\n            {brands.map(({ name }) => (\n              <StyledOption key={name} value={name}>\n                {name}\n              </StyledOption>\n            ))}\n          </StyledSelect>\n        </Wrap>\n\n        <Wrap>\n          <Subtitle htmlFor=\"price-select\">Price / 1 hour</Subtitle>\n\n          <StyledSelect name=\"prices\" id=\"price-select\">\n            <option value=\"\">To $</option>\n            {prices.map(({ quantity }) => (\n              <StyledOption key={quantity} value={quantity}>\n                {quantity}\n              </StyledOption>\n            ))}\n          </StyledSelect>\n        </Wrap>\n\n        <Wrap>\n          <Subtitle>Car mileage / km</Subtitle>\n\n          <InputWrap>\n            <InputInnerWrap>\n              <StyledLabel htmlFor=\"from\">From</StyledLabel>\n              <StyledInput type=\"number\" name=\"from\" id=\"from\" />\n            </InputInnerWrap>\n\n            <InputInnerWrap>\n              <StyledLabel htmlFor=\"to\">To</StyledLabel>\n              <StyledInput type=\"number\" name=\"to\" id=\"to\" />\n            </InputInnerWrap>\n          </InputWrap>\n        </Wrap>\n\n        <FormBtn type=\"submit\">Search</FormBtn>\n\n        <FormBtn type=\"reset\">Reset</FormBtn>\n      </StyledForm>\n    </StyledSection>\n  );\n};\n","import { useEffect, useState } from 'react';\nimport { fetchCars } from 'services/api';\nimport { load, save } from 'js/localStorageFunctions'; \nimport { CarList } from 'components/CarList';\nimport { LoadmoreBtn } from 'components/LoadmoreBtn';\nimport { Spinner } from 'components/Loader';\nimport { DropdownFilter } from 'components/DropdownFilter';\nimport { LOCALSTORAGE_KEY } from 'constants';\n\nconst prices = [\n  { quantity: '30' },\n  { quantity: '40' },\n  { quantity: '50' },\n  { quantity: '60' },\n  { quantity: '70' },\n  { quantity: '80' },\n];\n\nexport default function CatalogPage() {\n  const [cars, setCars] = useState([]);\n  const [page, setPage] = useState(1);\n  const [error, setError] = useState(null);\n  const [status, setStatus] = useState('pending');\n  let p = page;\n\n  useEffect(() => {\n    fetchCars(page)\n      .then(res => {\n        page === 1 ? setCars(res) : setCars(prev => [...prev, ...res]);\n        setError(null);\n        setStatus('resolved');\n      })\n      .catch(error => {\n        setError(error);\n        setStatus('rejected');\n      });\n  }, [page]);\n\n  const handleLoadmoreBtnClick = () => {\n    setPage((p += 1));\n  };\n\n  const toggleFavorite = carId => {\n    const storedFavorites = load(LOCALSTORAGE_KEY);\n\n    const isFavorite = storedFavorites?.find(item => item.id === carId);\n\n    if (isFavorite) {\n      const index = storedFavorites?.findIndex(item => item.id === carId);\n\n      if (index !== -1) storedFavorites?.splice(index, 1);\n      save(LOCALSTORAGE_KEY, storedFavorites);\n    } else {\n      storedFavorites?.push({ id: carId });\n      save(LOCALSTORAGE_KEY, storedFavorites);\n    }\n  };\n\n  const allBrands = cars.map(car => car.make);\n\n  const uniqueBrands = allBrands.filter(\n    (brand, index, array) => array.indexOf(brand) === index\n  );\n\n  const brands = uniqueBrands.map(brand => {\n    return { name: brand };\n  });\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    const form = event.currentTarget;\n    const brand = form.cars.value.trim();\n    if (brand) console.log(brand);\n    const price = form.prices.value;\n    if (price) console.log(price);\n    const from = form.from.value;\n    if (from) console.log(from);\n    const to = form.to.value;\n    if (to) console.log(to);\n    form.reset();\n  };\n\n  return (\n    <>\n      <DropdownFilter onSubmit={handleSubmit} brands={brands} prices={prices} />\n      {status === 'pending' && <Spinner />}\n      {status === 'rejected' && <h3>{error.message}</h3>}\n      {status === 'resolved' && (\n        <CarList cars={cars} toggleFavorite={toggleFavorite} />\n      )}\n      {page < 4 && <LoadmoreBtn onClick={handleLoadmoreBtnClick} />}\n    </>\n  );\n}\n"],"names":["StyledSection","styled","StyledForm","Wrap","InputWrap","InputInnerWrap","Subtitle","StyledSelect","StyledOption","StyledLabel","StyledInput","FormBtn","DropdownFilter","onSubmit","brands","prices","name","htmlFor","id","value","map","quantity","type","CatalogPage","useState","cars","setCars","page","setPage","error","setError","status","setStatus","p","useEffect","fetchCars","then","res","prev","catch","car","make","filter","brand","index","array","indexOf","event","preventDefault","form","currentTarget","trim","console","log","price","from","to","reset","message","CarList","toggleFavorite","carId","storedFavorites","load","LOCALSTORAGE_KEY","find","item","findIndex","splice","save","push","LoadmoreBtn","onClick"],"sourceRoot":""}